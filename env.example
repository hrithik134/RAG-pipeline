# ==========================================
# RAG Pipeline Configuration Template
# ==========================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to git!

# ==========================================
# Application Settings
# ==========================================
APP_NAME="RAG Pipeline"
APP_VERSION="1.0.0"
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# ==========================================
# Database Configuration
# ==========================================
# For Docker, use 'postgres' as hostname
# For local development, use 'localhost'
DATABASE_URL=postgresql://rag_user:rag_password@postgres:5432/rag_db
DB_ECHO=false
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ==========================================
# Redis Configuration
# ==========================================
# For Docker, use 'redis' as hostname
# For local development, use 'localhost'
REDIS_URL=redis://redis:6379/0

# ==========================================
# Pinecone Configuration (REQUIRED)
# ==========================================
# Get your API key from: https://www.pinecone.io/
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_INDEX_NAME=ragingestion-google
PINECONE_DIMENSION=768
PINECONE_METRIC=cosine
PINECONE_CLOUD=aws
PINECONE_REGION=us-east-1

# ==========================================
# LLM Provider Selection
# ==========================================
# Choose 'openai' or 'google'
LLM_PROVIDER=google
EMBEDDING_PROVIDER=google

# ==========================================
# OpenAI Configuration (if using OpenAI)
# ==========================================
# Get your API key from: https://platform.openai.com/account/api-keys
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.1

# ==========================================
# Google AI Configuration (if using Google)
# ==========================================
# Get your API key from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_MODEL=gemini-2.5-pro
GOOGLE_EMBEDDING_MODEL=models/text-embedding-004
GOOGLE_TEMPERATURE=0.1
GOOGLE_MAX_TOKENS=2048

# ==========================================
# Document Processing Configuration
# ==========================================
MAX_DOCUMENTS_PER_UPLOAD=20
MAX_PAGES_PER_DOCUMENT=1000
MAX_FILE_SIZE_MB=50
ALLOWED_EXTENSIONS=pdf,docx,txt,md
UPLOAD_DIR=./uploads

# ==========================================
# Chunking Configuration
# ==========================================
CHUNK_SIZE=1000
CHUNK_OVERLAP=150
MIN_CHUNK_SIZE=100

# ==========================================
# Embedding Configuration
# ==========================================
EMBED_BATCH_SIZE=64
UPSERT_BATCH_SIZE=100
INDEX_CONCURRENCY=2
EMBED_RETRY_MAX=5
EMBED_RETRY_DELAY=1.0

# ==========================================
# RAG Configuration
# ==========================================
RAG_TOP_K=10
RAG_MMR_LAMBDA=0.5
RAG_MAX_CONTEXT_TOKENS=6000
RAG_TEMPERATURE=0.1

# ==========================================
# Retrieval Configuration
# ==========================================
RETRIEVAL_METHOD=hybrid
RETRIEVAL_TOP_K=10
MMR_LAMBDA=0.5
USE_HYBRID_SEARCH=true
BM25_K1=1.2
BM25_B=0.75
RRF_K=60

# ==========================================
# LLM Configuration
# ==========================================
LLM_MAX_RETRIES=3
LLM_TIMEOUT_SECONDS=30

# ==========================================
# Rate Limiting Configuration
# ==========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE_URL=redis://redis:6379/0
RATE_LIMIT_UPLOAD=10/hour
RATE_LIMIT_QUERY=20/minute
RATE_LIMIT_READ=100/minute
RATE_LIMIT_DELETE=20/minute
RATE_LIMIT_HEALTH=300/minute
RATE_LIMIT_METRICS=30/minute

# ==========================================
# CORS Configuration
# ==========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:8000
CORS_ALLOW_CREDENTIALS=true

# ==========================================
# Background Tasks (Celery)
# ==========================================
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# ==========================================
# Monitoring (Optional)
# ==========================================
ENABLE_METRICS=false
SENTRY_DSN=

# ==========================================
# Cloud Storage (Optional)
# ==========================================
USE_CLOUD_STORAGE=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_REGION=us-east-1

# ==========================================
# SSL Configuration (Production)
# ==========================================
SSL_KEYFILE=
SSL_CERTFILE=

